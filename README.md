# Correlation One Coding Sample
Setup commands:
* `npm install` from root

Running locally:
* Run `node server.js` from project root
* It is now running at http://localhost:3002/

## Endpoints:

Note: A Postman Collection to test these routes is attached to this repository

`/assessment/start`
This is a POST request and expects in the request body:
* asmtId - the id of the assessment that is being started
* firstName - first name of assessment taker
* lastName - last name of assessment taker
* email - email of assessment taker

This route will write to the DB that this particular user has begun writing this assessment and will return a unique assessment id for the session.

`/assessment/questions/{assessment id}`
This is a GET request and returns the list of questions associated with the given assessment id.

`/question/submit`
This is a POST request and expects in the request body:
* questionId - the id of the question that is being answered
* submittedAnswer - the contents of the answer given

This route will return "Correct answer" if the given answer matches the record in the DB and "Incorrect answer" otherwise.
The rather unsophisticated return type is purposeful in that the implementation of whatever uses this is handled by the front end and thus unknown to me.

## Usage to accomplish task:
The user fills out the basic contact info form and clicks "Start Assessment".

This calls `/assessment/start` and receives the returned unique assessment id.
Next, a call is made to `/assessment/questions/{assessment id}` which will return the questions for this assessment. The front end handles this data as well as the timer and the url which are all tied to the unique assessment id (I imagine some cookie/session front end magic is in play here).

Next, as the front end displays one question at a time and presents the available answers, once the user clicks "Next" to submit the answer, their chosen answer is saved on the client side.
This allows us to accomplish the task of getting a confirmation page once the final question has been submitted without excess interactions with the database.

The client side holds all the questions for the assessment and controls when each is displayed so it will be able to tell once the last one has been submitted.
Once this happens, the confirmation page is generated by getting the user submitted answers from the saved client side resource.

The rest is fairly straightforward, the `/question/submit` route is available to ever validate a submitted answer.
