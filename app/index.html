<!DOCTYPE html>
<html lang="en">
<head>
<base href="/">

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Mathabit</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/icon.png">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/math.css">

  <!-- TODO: Have fallback stylesheet ref
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">
  <!-- <link rel="stylesheet" href="css/angular-material.css"> -->

</head>

<body ng-controller="IndexCtrl as index">

<div layout="row" layout-align="center center" style="background-color: #d8d8d8; height: 5vh;">
  <md-menu ng-if="!index.isLoggedIn()">
    <md-button aria-label="Login menu" class="genericButton"
    ng-click="index.openForm($mdMenu, $event)">Login</md-button>
    <md-menu-content width="4">
      <form name="loginForm">
        <md-content layout="column" class="md-padding">
          <md-input-container>
            <label>Email</label>
            <input required type="text" ng-model="index.username" name="username" />
            <div ng-messages="loginForm.username.$error">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>Password</label>
            <input required type="password" ng-model="index.password" name="password" />
            <div ng-messages="loginForm.password.$error" role="alert">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <div layout="row" layout-align="center center">
            <md-button class="genericButton" ng-click="index.login()">Login</md-button>
          </div>
        </md-content>
      </form>
    </md-menu-content>
  </md-menu>

  <md-menu ng-if="!index.isLoggedIn()">
    <md-button aria-label="Register menu" class="genericButton"
    ng-click="index.openForm($mdMenu, $event)">Register</md-button>
    <md-menu-content width="4">
      <form name="registerForm" class="genericForm">
        <md-content layout="column" class="md-padding">
          <md-input-container>
            <label>Email</label>
            <input required type="text" ng-model="index.regUsername" name="regUsername" />
            <div ng-messages="registerForm.regUsername.$error">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>Password</label>
            <input required type="password" ng-model="index.regPassword" name="regPassword" />
            <div ng-messages="registerForm.regPassword.$error" role="alert">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>First Name</label>
            <input required type="text" ng-model="index.fname" name="fname" />
            <div ng-messages="registerForm.fname.$error" role="alert">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>Last Name</label>
            <input required type="text" ng-model="index.lname" name="lname" />
            <div ng-messages="registerForm.lname.$error" role="alert">
              <div ng-message="required">This is required.</div>
            </div>
          </md-input-container>
          <div layout="row" layout-align="center center">
            <md-button class="genericButton" ng-click="index.register()">Register</md-button>
          </div>
        </md-content>
      </form>
    </md-menu-content>
  </md-menu>

  <md-menu ng-if="index.isLoggedIn()">
    <md-button aria-label="Logout" class="genericButton"
    ng-click="index.logout()">Logout</md-button>
  </md-menu>
</div>

<div ng-view style="height: 95vh;"><!-- Partials go here --></div>

<script type="text/javascript" src="js/bundle/bundle.js"></script>

</body>
</html>
